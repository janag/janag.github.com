<!DOCTYPE html>  <html> <head>   <title>default.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="default.html">                 default.coffee               </a>                                           <a class="source" href="index.html">                 index.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               default.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <h2>Default Config</h2>

<p>Sensible defaults allowing us to get up and running without an app-specific config file
Copyright 2011 - Owen Barnes <a href="&#x6D;&#x61;&#x69;&#x6C;&#x74;&#111;:&#x6F;&#119;&#x65;&#110;&#x40;&#x73;&#111;c&#107;e&#116;&#115;&#x74;&#x72;&#x65;&#97;&#109;&#46;&#111;&#114;&#x67;">&#x6F;&#119;&#x65;&#110;&#x40;&#x73;&#111;c&#107;e&#116;&#115;&#x74;&#x72;&#x65;&#97;&#109;&#46;&#111;&#114;&#x67;</a> - MIT Licensed</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">exports.config =</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Basics</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">loaded: </span>                  <span class="kc">true</span>            <span class="c1"># allows us to check the app&#39;s config has been loaded</span>
  <span class="nv">ss_var: </span>                  <span class="s1">&#39;SS&#39;</span>            <span class="c1"># the main SocketStream global variable server-side</span>
  <span class="nv">enable_color: </span>            <span class="kc">true</span>            <span class="c1"># use colors when outputting to terminal</span>
  <span class="nv">pack_assets: </span>             <span class="kc">true</span>            <span class="c1"># set this to false when developing to force the serving of all asset requests live</span>
  <span class="nv">throw_errors: </span>            <span class="kc">true</span>            <span class="c1"># this needs to be false in production or the server will quit on any error</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>HTTP</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">http:</span>
    <span class="nv">port: </span>                  <span class="mi">3000</span>            <span class="c1"># if you want to run on port 80 or 443 node must be run as root</span>
    <span class="nv">hostname: </span>              <span class="s1">&#39;0.0.0.0&#39;</span>       <span class="c1"># allows the server to be bound to a particular IP. listens on all by default</span>
  </pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>HTTPS / SSL / TLS</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">https:</span>
    <span class="nv">enabled: </span>               <span class="kc">false</span>           <span class="c1"># see readme for full details</span>
    <span class="nv">port: </span>                  <span class="mi">443</span>             <span class="c1"># if you want to run on port 80 or 443 node must be run as root</span>
    <span class="nv">hostname: </span>              <span class="s1">&#39;0.0.0.0&#39;</span>       <span class="c1"># allows the server to be bound to a particular IP. listens on all by default</span>
    <span class="nv">cert_name: </span>             <span class="s1">&#39;site&#39;</span>          <span class="c1"># allows you to use a different certificate name in different environments</span>
    <span class="nv">domain: </span>                <span class="kc">false</span>           <span class="c1"># enter the full host name here as it appears on your SSL cert: (e.g. www.test.com)</span>
    <span class="nv">ensure_domain: </span>         <span class="kc">true</span>            <span class="c1"># if set, will auto-redirect traffic sent to different hosts to the domain specified above</span>
    <span class="nv">redirect_http: </span>         <span class="kc">true</span>            <span class="c1"># automatically redirects requests to http:// to https://#{host}  Host must be set</span>
    <span class="nv">requestCert: </span>           <span class="kc">false</span>           <span class="c1"># if true the server will request a certificate from clients that connect and attempt to verify that certificate</span>
    <span class="nv">rejectUnauthorized: </span>    <span class="kc">false</span>           <span class="c1"># if true the server will reject any connection which is not authorized with the list of supplied CAs. This option only has an effect if requestCert is true</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Logger (only to the terminal for now)</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">log:</span>
    <span class="nv">level: </span>                 <span class="mi">3</span>               <span class="c1"># 0 = none, 1 = calls only, 2 = calls + params, 3 = full, 4 = everything</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Rename the @request, @session etc object within your server-side files to something else</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">reserved_vars:</span>
    <span class="nv">request: </span>               <span class="s1">&#39;request&#39;</span>
    <span class="nv">session: </span>               <span class="s1">&#39;session&#39;</span>
    <span class="nv">user: </span>                  <span class="s1">&#39;user&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Default settings for /app/server files</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">server_files:</span>
    <span class="nv">authenticate: </span>          <span class="kc">false</span>           <span class="c1"># Only allow authenticated requests (where @request.session.user_id is set)</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>Redis</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">redis:</span>
    <span class="nv">enabled: </span>               <span class="kc">true</span>
    <span class="nv">host: </span>                  <span class="s1">&#39;127.0.0.1&#39;</span>
    <span class="nv">port: </span>                  <span class="mi">6379</span>
    <span class="nv">options: </span>               <span class="p">{}</span>
    <span class="nv">db_index: </span>              <span class="mi">0</span>               <span class="c1"># select your databases/keyspace from 0 - 15 (the max redis supports by default)</span>
    <span class="nv">key_prefix: </span>            <span class="s1">&#39;ss&#39;</span>            <span class="c1"># all keys created by SocketStream are prefixed with this value</span>
  </pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Set params which will be passed directly to the client when they connect
The client config should match the server as closly as possible</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">client:</span>
    <span class="nv">remote_prefix: </span>         <span class="kc">null</span>            <span class="c1"># automatically prefixes all remote calls. e.g. if your server api begins &#39;v1&#39; remote(&#39;app.square&#39;) will become remote(&#39;v1.app.square&#39;)</span>
    <span class="nv">heartbeat_interval: </span>    <span class="mi">30</span>              <span class="c1"># interval in seconds between heartbeats sent to the server to confirm user is online. a lower value increases server and bandwith use. ignored if SS.config.users.online.enabled is false</span>
    <span class="nv">auto_reload: </span>           <span class="kc">false</span>           <span class="c1"># automatically reload the browser window/tab if an underlying file changes (experimental)</span>
    <span class="nv">log:</span>
      <span class="nv">level: </span>               <span class="mi">2</span>               <span class="c1"># 0 = none, 1 = calls only, 2 = calls + params, 3 = full</span>
  </pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>ZeroMQ Cluster</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">cluster:</span>
    <span class="nv">serialization: </span>         <span class="s1">&#39;json&#39;</span>          <span class="c1"># left this is to allow others to experiment but so far found JSON to be no slower than msgpack</span>
    <span class="nv">sockets: </span>                               <span class="c1"># Note: IPC sockets are the default for raw speed on a single machine. Once your app is ready to spread it&#39;s wings over multiple servers, TCP sockets must be specified. See docs for full details</span>
      <span class="nv">fe_main: </span>             <span class="s2">&quot;tcp://0.0.0.0:9000&quot;</span>
      <span class="nv">fe_pub: </span>              <span class="s2">&quot;tcp://0.0.0.0:9001&quot;</span>
      <span class="nv">be_main: </span>             <span class="s2">&quot;tcp://0.0.0.0:9010&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <h2> OPTIONAL MODULES</h2>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>HTTP request-based API</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">api:</span>
    <span class="nv">enabled: </span>               <span class="kc">true</span>
    <span class="nv">prefix: </span>                <span class="s1">&#39;api&#39;</span>           <span class="c1"># defines the URL namespace</span>
    <span class="nv">https_only: </span>            <span class="kc">false</span>           <span class="c1"># only allow API requests over HTTPS</span>
    <span class="nv">post_max_size_kb: </span>      <span class="mi">8192</span>            <span class="c1"># 8Mb HTTP POST body size limit</span>
    <span class="nv">auth:</span>
      <span class="nv">basic: </span>         
        <span class="nv">module_name: </span>       <span class="kc">false</span>           <span class="c1"># replace this with the name of the authentication module. false = basic auth disabled</span>
        <span class="nv">realm: </span>             <span class="s1">&#39;Secure API&#39;</span>    <span class="c1"># realm name that pops up when you try to access a secure area</span>
  </pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>Users</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">users_online:</span>
    <span class="nv">enabled: </span>               <span class="kc">true</span>            <span class="c1"># enable tracking of users online in Redis. see README for more details</span>
    <span class="nv">mins_until_offline: </span>    <span class="mi">2</span>               <span class="c1"># number of mins we wait from receiving the last heartbeat before assuming the user has gone offline</span>
    <span class="nv">update_interval: </span>       <span class="mi">60</span>              <span class="c1"># interval in seconds between the User Online update process runs. this purges users no longer online</span>
    <span class="nv">keep_historic: </span>         <span class="kc">false</span>           <span class="c1"># do not delete the ss:online:at:&lt;minuteCode&gt; keys we use to work out who&#39;s online (can be useful for analytics)</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>Incompatible Browser Checking</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">browser_check:</span>
    <span class="nv">enabled: </span>               <span class="kc">false</span>            
    <span class="nv">strict: </span>                <span class="kc">false</span>           <span class="c1"># when enabled will serve a static page from /static/incompatible_browsers when non websocket browsers connect</span>
    <span class="nv">view_name: </span>             <span class="s1">&#39;incompatible&#39;</span>  <span class="c1"># the name of the jade or html view which will be displayed in /app/views</span>
  </pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>Rate Limiter</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">rate_limiter:</span>
    <span class="nv">enabled: </span>               <span class="kc">false</span>           <span class="c1"># enables basic rate limiting (off by default for now)</span>
    <span class="nv">websockets:</span>
      <span class="nv">rps: </span>                 <span class="mi">15</span>              <span class="c1"># requests per second which can be executed per-client before requests are dropped</span>
  </pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>Realtime Models</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">rtm:</span>
    <span class="nv">enabled: </span>               <span class="kc">false</span>           <span class="c1"># disabled by default as HIGHLY EXPERIMENTAL and subject to change</span>
  </pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>Plug Sockets</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">plug_sockets:</span>
    <span class="nv">enabled: </span>               <span class="kc">false</span>
    <span class="nv">plugs: </span>                 <span class="p">{}</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 